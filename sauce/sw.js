i=location.hostname;self.addEventListener("install",(e=>{self.skipWaiting(),e.waitUntil(caches.open(i).then((e=>e.addAll(["/","/index.html"]))))})),self.addEventListener("fetch",(e=>{if(new URL(e.request.url).pathname.startsWith("/api"))return e.stopImmediatePropagation(),void e.respondWith(fetch(e.request));e.respondWith(caches.match(e.request).then((t=>{const s=fetch(e.request).then((t=>caches.open(i).then((s=>(s.put(e.request,t.clone()),t)))));return t||s})))})),self.addEventListener("activate",(e=>{e.waitUntil(clients.claim())}));